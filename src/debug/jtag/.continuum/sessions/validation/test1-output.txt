ğŸ—„ï¸ DATABASE CHAT INTEGRATION TEST
=================================
ğŸ”— Connecting to JTAG system...
ğŸ”Œ Server: Connecting via JTAGClientServer (target: server)
ğŸ”„ JTAGClient: Connecting to server system with secure configuration...
ğŸ¯ JTAGClient: Provided sessionId: deadbeef-cafe-4bad-8ace-5e551000c0de
ğŸŒ JTAGClientServer: No local system - using remote connection
ğŸ”— JTAGClient: Using Connection Broker for intelligent connection management
ğŸ”§ JTAGClient: Connection with sessionId: deadbeef-cafe-4bad-8ace-5e551000c0de (provided: deadbeef-cafe-4bad-8ace-5e551000c0de, current: deadbeef-cafe-4bad-8ace-5e551000c0de)
ğŸ”— ConnectionBroker: Processing connection request for server (mode: preferred)
ğŸ”— ConnectionBroker: Creating client connection to existing server
ğŸ“‹ ConnectionBroker: Registered server existing-jtag-server-9002 (10526ce5-f497-4c18-b88f-c19be1210332) on port 9002
ğŸ­ Server Transport Factory (Registry-Based): Creating websocket transport for server environment
ğŸ” Server Factory: Looking for websocket transport (role: client) in registry
âœ… Server Factory: Found adapter WebSocketTransportClientServer for websocket/client
ğŸ”— websocket-server-client: Connecting to ws://localhost:9002
âœ… websocket-server-client: Connected
âœ… websocket-server-client: Handler compliance enforced by TypeScript
ğŸš€ Server Factory: Adapter WebSocketTransportClientServer connected successfully
âœ… Server Transport Factory (Registry-Based): web-socket-transport-client-server transport created successfully
âœ… JTAGClient: created_new connection established on port 9002
ğŸ·ï¸ JTAGClient: Requesting session from SessionDaemon...
ğŸ”„ JTAGClient: Using provided sessionId: deadbeef-cafe-4bad-8ace-5e551000c0de
ğŸ” JTAGClient: Detected category=user, displayName=CLI Client, isAgent=undefined
ğŸ”‘ JTAGClient: Computed uniqueId="cli" for CLI Client (isEphemeralClient=true, isAgent=undefined)
ğŸ“¤ RemoteConnection: Sending command 'session/create' with correlation client_1765854242864_0nzuotkn
ğŸ·ï¸ JTAGClientServer: Session updated to: e88999fd-8c92-4fdd-8a63-fd05e99063ba (managed by base class)
ğŸ“‹ JTAGClient: Discovering available commands...
ğŸ“¤ RemoteConnection: Sending command 'list' with correlation client_1765854242870_obcuifrn
âœ… JTAGClient: Connection established
ğŸ”„ JTAGClient: Discovering available commands...
ğŸ“¤ RemoteConnection: Sending command 'list' with correlation client_1765854242871_0wmhtov0
âœ… Server: JTAGClient connected with 143 commands
âœ… Connected

ğŸ§¹ Cleaning up orphaned test data from previous runs...
ğŸ“¤ RemoteConnection: Sending command 'data/list' with correlation client_1765854242872_1crcsudg
ğŸ“¤ RemoteConnection: Sending command 'data/delete' with correlation client_1765854243652_3wros5e5
âŒ TIMEOUT: websocket-server-client connection failed to establish or was abnormally closed (code: 1006) - connection cancelled
âš ï¸  Cleanup failed (non-fatal): Error: Request timeout after 30000ms
    at Timeout._onTimeout (/Volumes/SlimGordon/continuum/src/debug/jtag/system/core/shared/ResponseCorrelator.ts:39:16)
    at listOnTimeout (node:internal/timers:614:17)
    at process.processTimers (node:internal/timers:549:7)
â³ Waiting for widgets to initialize...
âŒ Test failed: Error: Command 'debug/widget-state' not available. Available commands: ai/adapter/test, ai/bag-of-words, ai/cost, ai/dataset/create, ai/dataset/list, ai/embedding/generate, ai/generate, ai/genome/stats, ai/model/find, ai/model/list, ai/rag/index/create, ai/rag/inspect, ai/rag/query-close, ai/rag/query-fetch, ai/rag/query-open, ai/report/decisions, ai/report, ai/should-respond-fast, ai/should-respond, ai/status, ai/thoughtstream, ai/validate-response, collaboration/chat/analyze, collaboration/chat/export, collaboration/chat/poll, collaboration/chat/send, collaboration/content/open, collaboration/decision/create, collaboration/decision/finalize, collaboration/decision/list, collaboration/decision/propose, collaboration/decision/rank, collaboration/decision/view, collaboration/decision/vote, collaboration/wall/list, collaboration/wall/read, collaboration/wall/write, continuum/emotion, continuum/set, data/backfill-vectors, data/clear, data/close, data/create, data/delete, data/generate-embedding, data/list-handles, data/list, data/open, data/query-close, data/query-next, data/query-open, data/read, data/schema, data/truncate, data/update, data/vector-search, development/code/pattern-search, development/code/read, development/compile-typescript, development/debug/artifacts-check, development/debug/chat-send, development/debug/crud-sync, development/debug/error, development/debug/html-inspector, development/debug/scroll-test, development/debug/widget-css, development/debug/widget-events, development/debug/widget-interact, development/debug/widget-state, development/exec, development/generate/audit, development/generate, development/schema/generate, development/shell/execute, file/append, file/load, file/mime-type, file/save, genome/batch-micro-tune, genome/job-create, genome/job-status, genome/paging-activate, genome/paging-adapter-register, genome/paging-deactivate, genome/paging-register, genome/paging-stats, genome/paging-unregister, help, indicator, interface/click, interface/get-text, interface/navigate, interface/proxy-navigate, interface/screenshot, interface/scroll, interface/type, interface/wait-for-element, interface/web/fetch, interface/web/search, list, logs/list, logs/read, logs/search, logs/stats, media/process, media/resize, persona/learning/capture-feedback, persona/learning/capture-interaction, persona/learning/multi-agent-learn, ping, process-registry, rag/budget, rag/load, security/setup, session/create, session/destroy, session/get-id, session/get-user, state/create, state/get, state/update, system/daemons, theme/get, theme/list, theme/set, training/import, user/create, user/get-me, utilities/docs/list, utilities/docs/read, utilities/docs/search, utilities/hello, utilities/pipe/chain, workspace/git/commit, workspace/git/push, workspace/git/status, workspace/git/workspace/clean, workspace/git/workspace/init, workspace/recipe/load, workspace/task/complete, workspace/task/create, workspace/task/list, workspace/tree
    at Object.get (/Volumes/SlimGordon/continuum/src/debug/jtag/system/core/client/shared/JTAGClient.ts:654:17)
    at waitForWidgetInitialization (/Volumes/SlimGordon/continuum/src/debug/jtag/tests/integration/database-chat-integration.test.ts:118:38)
    at async testDatabaseChatIntegration (/Volumes/SlimGordon/continuum/src/debug/jtag/tests/integration/database-chat-integration.test.ts:278:5)
ğŸ”Œ JTAGClient: Disconnecting...
ğŸ”„ JTAGClient: Preserving shared session e88999fd-8c92-4fdd-8a63-fd05e99063ba on disconnect (shared: true)
ğŸ”Œ websocket-server-client: Disconnecting
âœ… JTAGClient: Transport disconnected
ğŸ›‘ ConnectionBroker: Shutting down...
âœ… ConnectionBroker: Shutdown complete
âœ… JTAGClient: Connection Broker shut down
ğŸš¨ Database chat integration test failed: Error: Command 'debug/widget-state' not available. Available commands: ai/adapter/test, ai/bag-of-words, ai/cost, ai/dataset/create, ai/dataset/list, ai/embedding/generate, ai/generate, ai/genome/stats, ai/model/find, ai/model/list, ai/rag/index/create, ai/rag/inspect, ai/rag/query-close, ai/rag/query-fetch, ai/rag/query-open, ai/report/decisions, ai/report, ai/should-respond-fast, ai/should-respond, ai/status, ai/thoughtstream, ai/validate-response, collaboration/chat/analyze, collaboration/chat/export, collaboration/chat/poll, collaboration/chat/send, collaboration/content/open, collaboration/decision/create, collaboration/decision/finalize, collaboration/decision/list, collaboration/decision/propose, collaboration/decision/rank, collaboration/decision/view, collaboration/decision/vote, collaboration/wall/list, collaboration/wall/read, collaboration/wall/write, continuum/emotion, continuum/set, data/backfill-vectors, data/clear, data/close, data/create, data/delete, data/generate-embedding, data/list-handles, data/list, data/open, data/query-close, data/query-next, data/query-open, data/read, data/schema, data/truncate, data/update, data/vector-search, development/code/pattern-search, development/code/read, development/compile-typescript, development/debug/artifacts-check, development/debug/chat-send, development/debug/crud-sync, development/debug/error, development/debug/html-inspector, development/debug/scroll-test, development/debug/widget-css, development/debug/widget-events, development/debug/widget-interact, development/debug/widget-state, development/exec, development/generate/audit, development/generate, development/schema/generate, development/shell/execute, file/append, file/load, file/mime-type, file/save, genome/batch-micro-tune, genome/job-create, genome/job-status, genome/paging-activate, genome/paging-adapter-register, genome/paging-deactivate, genome/paging-register, genome/paging-stats, genome/paging-unregister, help, indicator, interface/click, interface/get-text, interface/navigate, interface/proxy-navigate, interface/screenshot, interface/scroll, interface/type, interface/wait-for-element, interface/web/fetch, interface/web/search, list, logs/list, logs/read, logs/search, logs/stats, media/process, media/resize, persona/learning/capture-feedback, persona/learning/capture-interaction, persona/learning/multi-agent-learn, ping, process-registry, rag/budget, rag/load, security/setup, session/create, session/destroy, session/get-id, session/get-user, state/create, state/get, state/update, system/daemons, theme/get, theme/list, theme/set, training/import, user/create, user/get-me, utilities/docs/list, utilities/docs/read, utilities/docs/search, utilities/hello, utilities/pipe/chain, workspace/git/commit, workspace/git/push, workspace/git/status, workspace/git/workspace/clean, workspace/git/workspace/init, workspace/recipe/load, workspace/task/complete, workspace/task/create, workspace/task/list, workspace/tree
    at Object.get (/Volumes/SlimGordon/continuum/src/debug/jtag/system/core/client/shared/JTAGClient.ts:654:17)
    at waitForWidgetInitialization (/Volumes/SlimGordon/continuum/src/debug/jtag/tests/integration/database-chat-integration.test.ts:118:38)
    at async testDatabaseChatIntegration (/Volumes/SlimGordon/continuum/src/debug/jtag/tests/integration/database-chat-integration.test.ts:278:5)
