/**
 * Default Entities - Shared Constants for Deterministic UUIDs
 *
 * Provides consistent entity IDs across all components using deterministic UUID generation.
 * These constants are safe to use across shared/browser/server boundaries.
 */

import { stringToUUID, type UUID } from '../../core/types/CrossPlatformUUID';
import { generateUniqueId } from '../utils/UniqueIdUtils';

/**
 * Default User Unique IDs - Clean @username format
 * These are used with user/create --uniqueId parameter
 *
 * Format: @username (short, simple, no spaces)
 * Examples: @joel, @claude, @helper, @sentinel
 *
 * RESERVED for P2P network - these uniqueIds cannot be claimed by other users
 */
export const DEFAULT_USER_UNIQUE_IDS = {
  PRIMARY_HUMAN: generateUniqueId('Joel'),           // @joel
  CLI_CLIENT: generateUniqueId('CLI'),               // @cli
  CLAUDE_CODE: generateUniqueId('Claude'),           // @claude
  GENERAL_AI: generateUniqueId('General'),           // @general
  CODE_AI: generateUniqueId('CodeReview'),           // @codereview
  PLANNER_AI: generateUniqueId('Planner'),           // @planner
  AUTO_ROUTE: generateUniqueId('AutoRoute')          // @autoroute
} as const;

/**
 * @deprecated Use DEFAULT_USER_UNIQUE_IDS instead
 * Default User Entity IDs - Deterministic UUIDs based on user names
 * NOTE: user.id is auto-generated by BaseEntity, these UUIDs should not be used
 */
export const DEFAULT_USERS = {
  HUMAN: stringToUUID('Joel') as UUID,
  CLAUDE_CODE: stringToUUID('Claude Code') as UUID,
  GENERAL_AI: stringToUUID('GeneralAI') as UUID,
  CODE_AI: stringToUUID('CodeAI') as UUID,
  PLANNER_AI: stringToUUID('PlannerAI') as UUID,
  AUTO_ROUTE: stringToUUID('Auto Route') as UUID
} as const;

/**
 * Default Room Entity IDs - Deterministic UUIDs based on room names
 */
export const DEFAULT_ROOMS = {
  GENERAL: stringToUUID('General') as UUID,
  ACADEMY: stringToUUID('Academy') as UUID,
  PANTHEON: stringToUUID('Pantheon') as UUID,
  DEV_UPDATES: stringToUUID('Dev Updates') as UUID,
  HELP: stringToUUID('Help') as UUID,
  SETTINGS: stringToUUID('Settings') as UUID,
  THEME: stringToUUID('Theme') as UUID,
  CANVAS: stringToUUID('Canvas') as UUID,
  OUTREACH: stringToUUID('Outreach') as UUID,
  NEWSROOM: stringToUUID('Newsroom') as UUID,
  CODE: stringToUUID('Code') as UUID,
  SUPPORT: stringToUUID('Support') as UUID,
  AI_TRAINING: stringToUUID('AI Training') as UUID
} as const;

/**
 * System rooms - utility rooms that don't show in the main rooms list
 * but are accessible via dedicated UI buttons (Settings, Help, etc.)
 */
export const SYSTEM_ROOM_IDS = new Set([
  DEFAULT_ROOMS.HELP,
  DEFAULT_ROOMS.SETTINGS,
  DEFAULT_ROOMS.THEME,
  DEFAULT_ROOMS.CANVAS
]);

/**
 * Default Message Entity IDs - Deterministic UUIDs based on message content keys
 */
export const DEFAULT_MESSAGES = {
  WELCOME_GENERAL: stringToUUID('Welcome General Message') as UUID,
  // REMOVED: CLAUDE_INTRO was being pulled by RAG and causing personas to hallucinate
  WELCOME_ACADEMY: stringToUUID('Welcome Academy Message') as UUID
} as const;

/**
 * User Configuration Data - Display names, types, etc.
 * NOTE: HUMAN.DISPLAY_NAME is generic - actual name comes from SystemIdentity in server-only seeding code
 */
export const USER_CONFIG = {
  HUMAN: {
    DISPLAY_NAME: 'Developer',  // Generic fallback - seeding uses SystemIdentity.getDisplayName() instead
    TYPE: 'human' as const,
    AVATAR: 'ðŸ‘¤'
  },
  CLAUDE: {
    NAME: 'Claude Code',
    TYPE: 'ai' as const,
    AVATAR: 'ðŸ¤–'
  },
  GENERAL_AI: {
    NAME: 'GeneralAI',
    TYPE: 'ai' as const,
    AVATAR: 'âš¡'
  }
} as const;

/**
 * Room Configuration Data - Names, descriptions, etc.
 */
export const ROOM_CONFIG = {
  GENERAL: {
    NAME: 'General',
    DESCRIPTION: 'Main discussion room for all users',
    IS_PUBLIC: true
  },
  ACADEMY: {
    NAME: 'Academy',
    DESCRIPTION: 'Learning and educational discussions',
    IS_PUBLIC: true
  }
} as const;

/**
 * Message Content Templates
 * NOTE: Avoid persona-specific messages here - they get indexed by RAG and cause hallucinations
 */
export const MESSAGE_CONTENT = {
  WELCOME_GENERAL: 'Welcome to the General room! This is where we discuss development, collaborate, and share ideas.',
  // REMOVED: CLAUDE_INTRO - personas would see this in RAG and think Claude just introduced itself
  WELCOME_ACADEMY: 'Welcome to the Academy! This room is for learning, tutorials, and educational discussions.'
} as const;