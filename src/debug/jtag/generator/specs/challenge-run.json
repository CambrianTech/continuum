{
  "name": "challenge/run",
  "description": "Run a coding challenge against the AI coding pipeline. Sets up a fresh workspace, executes the challenge via code/task, evaluates with AI judge, and records the attempt.",
  "params": [
    {
      "name": "challengeId",
      "type": "string",
      "optional": true,
      "description": "Specific challenge ID to run. If not provided, runs the next unbeaten challenge"
    },
    {
      "name": "challengeNumber",
      "type": "number",
      "optional": true,
      "description": "Run challenge by sequence number (1-5)"
    },
    {
      "name": "personaId",
      "type": "string",
      "optional": true,
      "description": "Which AI persona runs the challenge. Defaults to the calling user"
    },
    {
      "name": "skipJudge",
      "type": "boolean",
      "optional": true,
      "description": "Skip AI judge evaluation (faster, just checks execution success)"
    }
  ],
  "results": [
    {
      "name": "challengeName",
      "type": "string",
      "description": "Name of the challenge that was run"
    },
    {
      "name": "difficulty",
      "type": "string",
      "description": "Challenge difficulty level"
    },
    {
      "name": "status",
      "type": "string",
      "description": "Attempt outcome: passed, failed, partial, timeout, error"
    },
    {
      "name": "score",
      "type": "number",
      "description": "Judge score from 0-100"
    },
    {
      "name": "feedback",
      "type": "string",
      "description": "Judge feedback on the attempt"
    },
    {
      "name": "durationMs",
      "type": "number",
      "description": "Total execution time in milliseconds"
    },
    {
      "name": "toolCallsUsed",
      "type": "number",
      "description": "Number of tool calls consumed"
    },
    {
      "name": "filesModified",
      "type": "string[]",
      "description": "Files modified during the attempt"
    },
    {
      "name": "filesCreated",
      "type": "string[]",
      "description": "Files created during the attempt"
    },
    {
      "name": "errors",
      "type": "string[]",
      "description": "Errors encountered during execution"
    }
  ],
  "examples": [
    {
      "description": "Run the next unbeaten challenge",
      "command": "./jtag challenge/run",
      "expectedResult": "{ status: \"passed\", score: 85, challengeName: \"Add a function to a single file\" }"
    },
    {
      "description": "Run a specific challenge by number",
      "command": "./jtag challenge/run --challengeNumber=3",
      "expectedResult": "{ status: \"partial\", score: 60, challengeName: \"Extract shared utility from duplicate code\" }"
    },
    {
      "description": "Quick run without AI judge",
      "command": "./jtag challenge/run --challengeNumber=1 --skipJudge=true",
      "expectedResult": "{ status: \"passed\", score: 70, feedback: \"Pipeline completed.\" }"
    }
  ],
  "accessLevel": "ai-safe",
  "environment": "server"
}
